---
title: "阅读wtfPython"
date: 2018-12-31T10:41:45+08:00
draft: false
---

## python的使用体验

才开始写python代码的时候，我觉得python相当优雅，它拥有整齐的缩进，动态语言的快速开发，多返回值，列表元祖集合字典，数之不尽的package可供调用……


但是当使用了一段时间以后，我发先python并没有想象的那么美好，动态语言的特性往往会带来许多低级的语意错误，这些错误无法在编辑时被自动检查出来。由于语言使用缩进来代表代码的层次关系，导致代码显得过于紧凑，不同功能的语句紧紧地堆在一起，在这种时候，缩进提供的区块划分能力对人来说可能就略显不足。

按照严谨标准的[PEP8](https://pep8.org/)书写python代码时，错误会减少很多。但很多时候依然觉得由于缩进带来的头重脚轻依然无法避免。这些都还只是个人的喜好问题，但是当我看到WtfPython以后，我意识到，在使用python的过程中，还有许多的坑需要注意。

---
<br>

## [wtfpython](https://github.com/leisurelicht/wtfpython-cn)
WtfPython项目讲述了一些不为人所知的python特性，它们都不是Python语言的Bug，但是部分看起来非常诡异。原作者翻译的阅读起来通俗易懂，这里也就无需复述。

我花费了两天的闲暇时间看完了它，虽说其中的一些例子在正常书写时触发的可能性非常低，但是依然让我感受到了明显的**不良设计**。

在阅读完文档以后，我有以下几个感受：
1. python的内存占用可能比你想象的要多
2. 循环内定义函数相当容易出错
3. `A=A+1` 与 `A+=1`可能带来显著不同
4. `子作用域`可能会无意影响`外部作用域`
5. `连续的赋值语句`与`多op连用` 并不如你想象的那样直观
6. 对可迭代对象的`迭代中修改`是`危险的`
7. `del`与`pop`与`remove`的处理并不直观
8. 函数的`默认参数`可能是可变的
9. `链式操作`中链子越长，危险越大

虽说这样错误都是可避免的，都是有着成型的解决方案的，但是他们依然是一个陷阱，等待着后来人不断跳进去。
